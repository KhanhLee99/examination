(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5738:function(t,e,s){Promise.resolve().then(s.bind(s,6433))},7907:function(t,e,s){"use strict";var a=s(5313);s.o(a,"redirect")&&s.d(e,{redirect:function(){return a.redirect}}),s.o(a,"useRouter")&&s.d(e,{useRouter:function(){return a.useRouter}})},6433:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return o}});var a=s(7437),r=s(7907),n=s(2265),c=s(9348);function o(){let[t,e]=(0,n.useState)([]);return(0,n.useEffect)(()=>{localStorage.getItem("access_token")||(0,r.redirect)("/login")},[]),(0,n.useEffect)(()=>{(async()=>{await c.Z.get("/projects").then(t=>{200===t.status&&e(t.payload.results),console.log("res",t)}).catch(t=>console.log("err",t))})()},[]),(0,a.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-between p-24",children:(0,a.jsx)("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[(0,a.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Project Name"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:(0,a.jsx)("div",{className:"flex items-center",children:"Project Domain"})}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:(0,a.jsx)("div",{className:"flex items-center",children:"Last Accessed"})})]})}),(0,a.jsx)("tbody",{children:t.length>0&&t.map(t=>(0,a.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[(0,a.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:t.project_name}),(0,a.jsx)("td",{className:"px-6 py-4",children:t.project_domain}),(0,a.jsx)("td",{className:"px-6 py-4",children:t.last_accessed})]},t.id))})]})})})}},7147:function(t,e,s){"use strict";s.d(e,{Am:function(){return d},pm:function(){return p}});var a=s(2265);let r=0,n=new Map,c=t=>{if(n.has(t))return;let e=setTimeout(()=>{n.delete(t),u({type:"REMOVE_TOAST",toastId:t})},1e6);n.set(t,e)},o=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:s}=e;return s?c(s):t.toasts.forEach(t=>{c(t.id)}),{...t,toasts:t.toasts.map(t=>t.id===s||void 0===s?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};return{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)}}},i=[],l={toasts:[]};function u(t){l=o(l,t),i.forEach(t=>{t(l)})}function d(t){let{...e}=t,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>u({type:"DISMISS_TOAST",toastId:s});return u({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:t=>{t||a()}}}),{id:s,dismiss:a,update:t=>u({type:"UPDATE_TOAST",toast:{...t,id:s}})}}function p(){let[t,e]=a.useState(l);return a.useEffect(()=>(i.push(e),()=>{let t=i.indexOf(e);t>-1&&i.splice(t,1)}),[t]),{...t,toast:d,dismiss:t=>u({type:"DISMISS_TOAST",toastId:t})}}},9348:function(t,e,s){"use strict";var a=s(2169),r=s(7147);class n{get value(){return this.access_token}set value(t){this.access_token=t}constructor(){this.access_token=""}}let c=new n,o=async(t,e,s)=>{let n=(null==s?void 0:s.body)?JSON.stringify(s.body):void 0,o=localStorage.getItem("access_token"),i="https://frontend-exam.digitalfortress.dev",l=e.startsWith("/")?"".concat(i).concat(e):"".concat(i,"/").concat(e),u=await fetch(l,{...s,headers:{"Content-Type":"application/json",Authorization:o?"Bearer ".concat(o):"",...null==s?void 0:s.headers},body:n,method:t}),d=await u.json(),p={status:u.status,payload:d};if(!u.ok&&401===u.status)throw(0,r.Am)({description:p.payload.message}),Error(p.payload.message);return["auth/login"].some(t=>t===(0,a.A)(e))?localStorage.setItem("access_token",d.access_token):"auth/logout"===(0,a.A)(e)&&(c.value=""),p};e.Z={get:(t,e)=>o("GET",t,e),post:(t,e,s)=>o("POST",t,{...s,body:e}),put:(t,e,s)=>o("PUT",t,{...s,body:e}),delete:(t,e,s)=>o("DELETE",t,{...s,body:e})}},2169:function(t,e,s){"use strict";s.d(e,{A:function(){return c},cn:function(){return n}});var a=s(3167),r=s(1367);function n(){for(var t=arguments.length,e=Array(t),s=0;s<t;s++)e[s]=arguments[s];return(0,r.m6)((0,a.W)(e))}let c=t=>t.startsWith("/")?t.slice(1):t}},function(t){t.O(0,[150,971,69,744],function(){return t(t.s=5738)}),_N_E=t.O()}]);